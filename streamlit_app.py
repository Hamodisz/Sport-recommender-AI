# streamlit_app.py

import streamlit as st
import base64
from backend import generate_sport_recommendation

st.set_page_config(page_title="Sport Recommender", layout="centered")

st.title("๐ ุงูุชุดู ุงูุฑูุงุถุฉ ุงูููุงุณุจุฉ ูู")
st.markdown("ุฃุฌุจ ุนูู ุงูุฃุณุฆูุฉ ุงูุชุงููุฉ ูุณููุชุฑุญ ูู ุฑูุงุถุฉ ุชูุงุณุจ ุดุฎุตูุชูุ ูุน ุฅููุงููุฉ ูุดุงุฑูุฉ ุงููุชูุฌุฉ.")

user_answers = ""
user_answers += "1. ูู ุณุจู ุฃู ูุงุฑุณุช ุฑูุงุถุฉ ูู ูุจูุ\n" + st.text_input("1. ูู ุณุจู ุฃู ูุงุฑุณุช ุฑูุงุถุฉ ูู ูุจูุ") + "\n"
user_answers += "2. ูุง ููุน ุงูุฃูุดุทุฉ ุงูุชู ุชุฌุฐุจูุ\n" + st.text_input("2. ูุง ููุน ุงูุฃูุดุทุฉ ุงูุชู ุชุฌุฐุจูุ") + "\n"
user_answers += "3. ูู ุชุญุจ ุงูุฑูุงุถุงุช ุงููุฑุฏูุฉ ุฃู ุงูุฌูุงุนูุฉุ\n" + st.text_input("3. ูู ุชุญุจ ุงูุฑูุงุถุงุช ุงููุฑุฏูุฉ ุฃู ุงูุฌูุงุนูุฉุ") + "\n"
user_answers += "4. ูู ุนูุฑูุ\n" + st.text_input("4. ูู ุนูุฑูุ") + "\n"
user_answers += "5. ูู ุชูุถู ุงููุดุงุทุงุช ุงูุญุฑููุฉ ุฃู ุงูุฐูููุฉุ\n" + st.text_input("5. ูู ุชูุถู ุงููุดุงุทุงุช ุงูุญุฑููุฉ ุฃู ุงูุฐูููุฉุ") + "\n"
user_answers += "6. ูู ุชุญุจ ุงูููุงูุณุฉ ุฃู ุงูุงุณุชุฑุฎุงุกุ\n" + st.text_input("6. ูู ุชุญุจ ุงูููุงูุณุฉ ุฃู ุงูุงุณุชุฑุฎุงุกุ") + "\n"
user_answers += "7. ูุง ูู ูุฏูู ูู ููุงุฑุณุฉ ุงูุฑูุงุถุฉุ\n" + st.text_input("7. ูุง ูู ูุฏูู ูู ููุงุฑุณุฉ ุงูุฑูุงุถุฉุ") + "\n"

if st.button("๐ฏ ุงุญุตู ุนูู ุงูุชูุตูุฉ"):
    with st.spinner("โณ ูุชู ุชุญููู ุฅุฌุงุจุงุชู..."):
        recommendation = generate_sport_recommendation(user_answers, language="ar")
        st.success("โ ุงูุชูุตูุฉ ุงูุฑูุงุถูุฉ ุงูููุงุณุจุฉ ูู:")
        st.markdown(recommendation)

        # ุฒุฑ ูุณุฎ ุงููุชูุฌุฉ
        st.code(recommendation, language="text")
        st.button("๐ ูุณุฎ ุงููุชูุฌุฉ", on_click=st.experimental_set_query_params, kwargs={"copied": "true"})

        # ุฑุงุจุท ุนุงู ูููู (ูุงุจู ููุชุฎุตูุต ูุงุญููุง)
        st.markdown("๐ ุดุงุฑู ูุชูุฌุชู: [ุฑุงุจุท ูุฎุตุต](https://sport-recommender/share?result=12345)")

        # ุฏุนูุฉ ุตุฏูู
        st.markdown("๐จ ุฃุฑุณู ูุฐุง ุงูุฑุงุจุท ูุตุฏููู ููุฌุฑุจ ุจููุณู: [ุฌุฑูุจ ุงูุงุฎุชุจุงุฑ](https://sport-recommender.com)")

        # ุชุญููู ุงูุชูุตูุฉ ุฅูู ุตูุฑุฉ (ุจุณูุทุฉ)
        st.markdown("๐ผ๏ธ ูุชุญููู ุงูุชูุตูุฉ ุฅูู ุชุตููู ุจุตุฑูุ ุงูุชูุท ููุทุฉ ุดุงุดุฉ ูุดุงุฑููุง!")